go-bindata -o=res/res.go -pkg=res res/... ui/dist/...

docker run -it --rm --name testng-in-docker -v "$(pwd)":/usr/src/mymaven -v ~/.m2:/root/.m2 -w /usr/src/mymaven maven mvn clean package

docker run -it --rm --name testng-in-docker \
    -v "$(pwd)":/usr/src/mymaven \
    -v ~/.m2:/root/.m2 \
    -w /usr/src/mymaven \
    maven mvn clean package

curl -i -X POST http://localhost:8085/api/v1/client/tasks -T xdoc/task.json

qshell qupload2 --src-dir=/Users/aaron/work/zentao/qiniu/ --bucket=download --thread-count=10 --log-file=qshell.log \
                     --skip-path-prefixes=ztf,zd,zmanager --rescan-local --overwrite --check-hash


sudo vi /etc/systemd/system/zagent.service

sudo systemctl daemon-reload
sudo systemctl start zagent.service
sudo systemctl stop zagent.service
sudo systemctl restart zagent.service
sudo systemctl enable zagent.service
sudo systemctl disable zagent.service


# https://github.com/swaggo/swag
rm -rf res/server/docs
swag init --parseDependency --parseInternal --parseDepth 5 -d cmd/server -o res/server/docs
rm -rf res/agent-host/docs
swag init --parseDependency --parseInternal --parseDepth 5 -d cmd/agent-host -o res/agent-host/docs
rm -rf res/agent-vm/docs
swag init --parseDependency --parseInternal --parseDepth 5 -d cmd/agent-vm -o res/agent-vm/docs

nohup swagger serve -p 50001 --no-open /Users/aaron/rd/project/zentao/go/zagent/res/server/docs/swagger.json > server.log 2>&1 &

# https://github.com/go-swagger/go-swagger
ps -ef | grep swagger | grep -v grep | awk '{print $2}' | xargs kill -9
nohup swagger serve --no-open -p 50001 res/server/docs/swagger.json > server.log 2>&1 &
nohup swagger serve --no-open -p 50002 res/agent-host/docs/swagger.json > host.log 2>&1 &
nohup swagger serve --no-open -p 50003 res/agent-vm/docs/swagger.json > vm.log 2>&1 &
