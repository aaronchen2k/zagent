definitions:
  _httpUtils.Response:
    properties:
      code:
        type: integer
      data:
        type: object
      message:
        type: string
    type: object
  domain.Build:
    properties:
      appPath:
        type: string
      appUrl:
        type: string
      appiumPort:
        type: integer
      browserType:
        type: string
      browserVersion:
        type: string
      buildCommands:
        type: string
      buildType:
        type: string
      completeTime:
        type: string
      desc:
        type: string
      deviceIp:
        type: string
      envVars:
        type: string
      id:
        type: integer
      keepResultFiles:
        type: boolean
      name:
        type: string
      nodeIp:
        type: string
      nodePort:
        type: integer
      osCateGory:
        type: string
      osLang:
        type: string
      osType:
        type: string
      osVersion:
        type: string
      priority:
        type: integer
      progress:
        type: string
      projectDir:
        type: string
      queueId:
        type: integer
      resultFiles:
        type: string
      resultMsg:
        type: string
      resultPath:
        type: string
      scmAccount:
        type: string
      scmAddress:
        type: string
      scmPassword:
        type: string
      scriptUrl:
        type: string
      seleniumDriverPath:
        type: string
      serial:
        type: string
      startTime:
        type: string
      status:
        type: string
      testScenario:
        $ref: '#/definitions/domain.TestScenario'
        description: interface test
      testSet:
        $ref: '#/definitions/domain.TestSet'
      version:
        type: number
      vmId:
        type: integer
      workDir:
        type: string
    type: object
  domain.Node:
    properties:
      desc:
        type: string
      ip:
        type: string
      lastRegisterDate:
        type: string
      name:
        type: string
      osPlatform:
        type: string
      osType:
        type: string
      port:
        type: integer
      sshPort:
        type: integer
      sysLang:
        type: string
      version:
        type: number
      vncAddress:
        type: string
      workDir:
        type: string
    type: object
  domain.TestProcessor:
    properties:
      children:
        description: can be interface, Processor.
        items:
          type: object
        type: array
      comments:
        type: string
      dataStore:
        additionalProperties: true
        description: store test data loaded by DataLoopProcessor
        type: object
      default:
        type: string
      endIndex:
        type: integer
      expr:
        type: string
      isOnce:
        type: boolean
      isRand:
        type: boolean
      loop:
        type: integer
      name:
        type: string
      parentId:
        type: integer
      path:
        type: string
      results:
        description: results
        items:
          type: string
        type: array
      source:
        type: string
      src:
        type: string
      startIndex:
        type: integer
      type:
        type: string
      varName:
        type: string
      varNamePostfix:
        type: string
    type: object
  domain.TestScenario:
    properties:
      desc:
        type: string
      name:
        type: string
      processor:
        $ref: '#/definitions/domain.TestProcessor'
      version:
        type: number
    type: object
  domain.TestSet:
    properties:
      agents:
        items:
          $ref: '#/definitions/domain.Node'
        type: array
      desc:
        type: string
      duration:
        description: sec, if set, loopCount will be ignore
        type: integer
      errorAction:
        type: string
      forever:
        type: boolean
      loopCount:
        type: integer
      name:
        type: string
      numberOfThreads:
        type: integer
      processor:
        $ref: '#/definitions/domain.TestProcessor'
      rampUpPeriod:
        description: sec
        type: integer
      version:
        type: number
    type: object
  v1.KvmReq:
    properties:
      osCategory:
        description: Enums consts.OsCategory
        example: windows
        type: string
      osLang:
        description: Enums consts.OsLang
        example: zh_cn
        type: string
      osType:
        description: Enums consts.OsType
        example: win10
        type: string
      osVersion:
        type: string
      startAfterCreated:
        type: boolean
      vmBacking:
        type: string
      vmCdromDriver:
        type: string
      vmCdromSys:
        type: string
      vmCpu:
        type: integer
      vmDiskSize:
        type: integer
      vmMacAddress:
        type: string
      vmMemorySize:
        type: integer
      vmTemplate:
        type: string
      vmUniqueName:
        type: string
    type: object
  v1.KvmResp:
    properties:
      backingPath:
        type: string
      imagePath:
        type: string
      macAddress:
        type: string
      name:
        type: string
      vncPort:
        type: string
    type: object
  v1.VmWareReq:
    properties:
      VmBackingName:
        type: string
      password:
        type: string
      startAfterCreated:
        type: boolean
      userName:
        type: string
      vmId:
        description: for destroy
        type: string
      vmMemory:
        type: integer
      vmName:
        type: string
      vmProcessors:
        type: integer
    type: object
  v1.VmWareResp:
    properties:
      code:
        type: integer
      mac:
        type: string
      msg:
        type: integer
      name:
        type: string
      vmId:
        type: string
      vncAddress:
        type: string
    type: object
info:
  contact:
    email: 462626@qq.com
    name: API Support
    url: https://github.com/easysoft/zagent/issues
  title: ZAgent宿主机API文档
  version: "1.0"
paths:
  /api/v1/kvm/{name}/destroy:
    post:
      consumes:
      - application/json
      parameters:
      - description: Kvm Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'code = success? 1 : 0'
          schema:
            $ref: '#/definitions/_httpUtils.Response'
      summary: 摧毁KVM虚拟机
  /api/v1/kvm/{name}/reboot:
    post:
      consumes:
      - application/json
      parameters:
      - description: Kvm Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'code = success? 1 : 0'
          schema:
            $ref: '#/definitions/_httpUtils.Response'
      summary: 重启KVM虚拟机
  /api/v1/kvm/{name}/resume:
    post:
      consumes:
      - application/json
      parameters:
      - description: Kvm Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'code = success? 1 : 0'
          schema:
            $ref: '#/definitions/_httpUtils.Response'
      summary: 恢复KVM虚拟机
  /api/v1/kvm/{name}/suspend:
    post:
      consumes:
      - application/json
      parameters:
      - description: Kvm Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'code = success? 1 : 0'
          schema:
            $ref: '#/definitions/_httpUtils.Response'
      summary: 暂停KVM虚拟机
  /api/v1/kvm/create:
    post:
      consumes:
      - application/json
      parameters:
      - description: Kvm Request Object
        in: body
        name: task
        required: true
        schema:
          $ref: '#/definitions/v1.KvmReq'
      produces:
      - application/json
      responses:
        "200":
          description: 'code = success? 1 : 0'
          schema:
            allOf:
            - $ref: '#/definitions/_httpUtils.Response'
            - properties:
                data:
                  $ref: '#/definitions/v1.KvmResp'
              type: object
      summary: 创建KVM虚拟机
  /api/v1/vmware/create:
    post:
      consumes:
      - application/json
      parameters:
      - description: Build Request Object
        in: body
        name: task
        required: true
        schema:
          $ref: '#/definitions/domain.Build'
      produces:
      - application/json
      responses:
        "200":
          description: 'code = success? 1 : 0'
          schema:
            $ref: '#/definitions/_httpUtils.Response'
      summary: 创建任务
  /api/v1/vnc/getToken:
    get:
      consumes:
      - application/json
      parameters:
      - description: Vnc Port
        in: query
        name: port
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 'code = success? 1 : 0'
          schema:
            $ref: '#/definitions/_httpUtils.Response'
      summary: 根据VNC Port获取Token
swagger: "2.0"
